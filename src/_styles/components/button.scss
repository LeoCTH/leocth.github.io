@use "sass:map";
@use "sass:list";

@mixin success-state($state, $color-name, $char) {
	$colors: map.get($colors, $color-name);
	$color: list.nth($colors, 1);
	$color-invert: list.nth($colors, 2);

	&[data-success="#{$state}"] {
		background-color: $color;
		color: $color-invert;
		pointer-events: none;

		&:focus,
		&.is-focused {
			border-color: transparent;
			color: $color-invert;
			&:not(:active) {
				box-shadow: $button-focus-box-shadow-size bulmaRgba($color, 0.25);
			}
		}
		&::after {
			content: $char;
		}
	}
}

/*! purgecss start ignore */
#copy-email {
	transition: 0.25s;

	&::after {
		font-family: "Font Awesome 6 Free";
		margin-left: 0.5rem;
	}

	@include success-state("true", "success", "\f00c");
	@include success-state("false", "danger", "\f00d");
}
/*! purgecss end ignore */
